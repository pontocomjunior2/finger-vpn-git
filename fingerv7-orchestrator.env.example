# Configuração para Integração FingerV7 + Orchestrator
# Copie este arquivo para .env em cada instância FingerV7

# ===========================================
# CONFIGURAÇÕES DO ORCHESTRATOR
# ===========================================
ORCHESTRATOR_URL=https://n8n-pontocom-finger-orchestrator.azfa0v.easypanel.host

# ===========================================
# CONFIGURAÇÕES DO WORKER (ALTERE PARA CADA INSTÂNCIA)
# ===========================================
# ID único para cada instância - DEVE SER DIFERENTE EM CADA INSTÂNCIA
INSTANCE_ID=fingerv7-001
WORKER_INSTANCE_ID=fingerv7-001

# Tipo do worker
WORKER_TYPE=fingerv7

# Capacidade máxima de streams simultâneos (ajuste conforme recursos)
WORKER_CAPACITY=5
MAX_STREAMS=5

# Região/localização do worker
WORKER_REGION=brasil-sul

# ===========================================
# CONFIGURAÇÕES DE HEARTBEAT
# ===========================================
# Intervalo entre heartbeats (segundos)
HEARTBEAT_INTERVAL=30

# ===========================================
# CONFIGURAÇÕES DE PERFORMANCE
# ===========================================
# Máximo de streams simultâneos
MAX_CONCURRENT_STREAMS=5

# Timeout para processamento de stream (segundos)
STREAM_TIMEOUT=300

# Número de tentativas em caso de erro
RETRY_ATTEMPTS=3

# ===========================================
# CONFIGURAÇÕES EXISTENTES DO FINGERV7
# ===========================================
# PostgreSQL (mantenha suas configurações existentes)
POSTGRES_HOST=104.234.173.96
POSTGRES_USER=postgres
POSTGRES_PASSWORD=Mudar123!
POSTGRES_DB=music_log
POSTGRES_PORT=5432
DB_TABLE_NAME=streams

# Server ID (para compatibilidade)
SERVER_ID=1
TOTAL_SERVERS=1

# Outras configurações existentes
DISTRIBUTE_LOAD=False
ENABLE_ROTATION=False
ROTATION_HOURS=24
IDENTIFICATION_DURATION=15
DUPLICATE_PREVENTION_WINDOW_SECONDS=900
SEGMENTS_DIR=/app/segments
TZ=America/Sao_Paulo

# Redis (se usado)
REDIS_URL=redis://localhost:6379
REDIS_CHANNEL=smf:server_heartbeats
REDIS_KEY_PREFIX=smf:server
REDIS_HEARTBEAT_TTL_SECS=60

# Orquestrador
USE_ORCHESTRATOR=True

# ===========================================
# EXEMPLO PARA MÚLTIPLAS INSTÂNCIAS
# ===========================================

# INSTÂNCIA 1 (Servidor Principal):
# INSTANCE_ID=fingerv7-001
# WORKER_CAPACITY=8
# WORKER_REGION=brasil-sudeste

# INSTÂNCIA 2 (Servidor Secundário):
# INSTANCE_ID=fingerv7-002  
# WORKER_CAPACITY=5
# WORKER_REGION=brasil-sul

# INSTÂNCIA 3 (Servidor com VPN):
# INSTANCE_ID=fingerv7-003
# WORKER_CAPACITY=3
# WORKER_REGION=brasil-nordeste

# VPN (apenas para instâncias que precisam)
VPN_SERVICE_PROVIDER=protonvpn
VPN_TYPE=wireguard
SERVER_COUNTRIES=Brazil
WIREGUARD_PRIVATE_KEY=sua_chave_privada_aqui
VPN_USER=seu_usuario_vpn
VPN_PASSWORD=sua_senha_vpn